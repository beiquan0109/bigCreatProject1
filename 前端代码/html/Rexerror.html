<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>title</title>
		<link rel="stylesheet" type="text/css" href="../css/api.css" />
		<link rel="stylesheet" type="text/css" href="../css/api.css" />
  	<link rel="stylesheet" type="text/css" href="../css/aui.css" />
	  <script type="text/javascript" src="../script/aui-toast.js"></script>
<link rel="stylesheet" type="text/css" href="../css/api1.css" />
		<style>
			body {
			}
			html, body {
				height: 100%
			}
			body {
				background-color: #fff;
				margin: 0;
			}
			#wrap {
				height: 2000px;
				position: relative;
			}
		.hdiv {
				padding-top: 20px;
				background-color: #f2f2f2;
				height: 20px;
				position: relative;
			}
			#header h1 {
				font-size: 20px;
				height: 44px;
				line-height: 44px;
				margin: 0em;
				color: #fff;
				margin-left: 100px;
				margin-right: 100px;
				text-align: center;
			}
			#main {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
			}
			a.button {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
				-webkit-box-align: center;
				height: 32px;
				margin: 8px;
				background-color: rgba(240, 240, 240, 1.0);
				border-color: rgba(220, 220, 220, 1.0);
				border-width: 2px;
				border-style: solid;
			}
			a.active {
				background-color: rgba(240, 240, 240, 0.7);
			}

		</style>
	</head>
	<body>
		<header class="aui-bar aui-bar-nav aui-bar-light" style="height:75px">
            <div class="aui-pull-left aui-btn" onclick="goback()" style="height:75px">

            </div>
            <div class="aui-title" style="margin-top:26px">错误列表一览</div>
        </header>
  <div class="empty"></div>
<div id="aa"></div>
	</body>

	<script type="text/javascript" src="../script/api.js"></script>
	<script type="text/javascript">
	function goback () {
	   api.closeWin({name:'Rexerror'});
	 }

  apiready = function() {
		var demo;
		var brand = api.pageParam.brand;//判断被点击的错误类型是哪个
		var listdata = new Array();
  	var arrayObj1 = new Array(
			'C0270: 电机编码器数据读取错误',
			'C0285:电机的型号参数 P-0-4014 有误',
			'C0201:无效的参数，当切换到操作模式 P4 时，内部的参数被检测，有参数超出它定义的范围时就出现该报警。',
			'C0270:电机编码器数据读取错误',
			'C0285:电机型号参数P-0-4014有误',
			'C0210:一些相关的编码器报警故障',
			'C0220:一些相关的编码器报警故障',
			'C0271:一些相关的编码器报警故障',
			'C0201:无效的参数，当切换到操作模式P4时，内部的参数被检测，有参数超出它定义的范围时就出现该报警'
	)
	var arrayObj2=new Array(
		'F2026:驱动器功率单元欠压报警，当DC?bus电压值小于P-0-0114定义的值并有使能的情况下出现该报警',
		'F2077:电流检测错误，硬件故障，驱动器实时监控电流，如超出允许范围时出现该报警',
		'F2018:驱动器温度报警',
		'F2820:制动电阻报警',
		'F2100:不正常的访问Flash内存，每一次修改参数都立即对Flash存储，造成内存溢出',
		'F2074:电机当前位置超出绝对编码器监视窗口，断电时的位置与重新上电后的位置偏差太大，超出了监视窗口值P-0-0095',
		'F2048:电机内的电池耗尽',
		'F2008:电机类型改变，下载了一个新的参数文件到驱动器，或者驱动器第一次上电，S-0-0141（电机类型）与当前电机不一致',
		'F8070:外部24V故障',
		'F8069:内部+-15V直流出错，内部有+24V转+-15V电路，它出现故障或内部集成芯片短路',
		'F8060:过流报警，驱动器内部电流超出最大的允许电流',
		'F8838:制动电阻过流',
		'F8102:驱动器硬件和Firmware不匹配',
		'F8078:速度环报警',
		'F4001:光缆环通讯错误，光缆环通讯的同步出现错误',
		'F8022:电机编码器信号弱',
		'“bb”不能切换到“Ab”:(不能整流产生直流）',
		'P0或者P-1，切换不到P2，BB:光缆环通讯故障',
		'显示“LOADER”:Firmware错误',
		'F205:凸轮轴故障',
		'F207:切换至未初始化运行模式',
		'F208:UL 电机类型已变',
		'F209:PL 装载参数默认值',
		'F211:DISC-Error no.1 （1#错误）',
		'F212:DISC-Error no.2 （2#错误）',
		'F212:DISC-Error no.3 （3#错误）',
		'F212:DISC-Error no.4 （4#错误）',
		'F217:未接冷却风扇',
		'F218:放大器过热关机',
		'F219:电机过热关机',
		'F220:制动电阻器过载关机',
		'F221:电机温度监控器故障',
		'F223:停止轴时的初始化过程错误',
		'F224:超过最大制动时间',
		'F226:功率部分欠电压',
		'F228:过大偏差',
		'F229:编码器 1 故障：象限错误',
		'F230:超过编码器 1 最大信号频率',
		'F236:位置反馈的差值过大',
		'F237:位置指令的差值过大',
		'F238:实际速度值的差值过大',
		'F242:编码器 2 故障：信号幅度错误',
		'F245:编码器 2 故障：象限错误',
		'F246:超过编码器 2 最大信号频率',
		'F248:电池电压过低',
		'F249:主驱动器编码器故障：信号太小',
		'F250:目标位置预置内存溢出',
		'F252:主驱动器编码器故障：象限错误',
		'F253:增量编码器仿真：脉冲频率太高',
		'F260:指令电流极限关闭',
		'F262:状态输出口出现外部短路',
		'F267:内部硬件同步错误',
		'F269:电机制动器释放过程中错误',
		'F276:绝对编码器超出允许的窗口',
		'F277:电流测量补偿错误',
		'F281:主回路故障',
		'F288:EMD 模块固件升级过程中出现错误',
		'F291:EMD 模块超时',
		'F292:EMD 模块过热',
		'F294:Ecox 客户端超时',
		'F296:Ecox 客户端数量不准确',
		'F297:Ecox 客户端错误',
		'F386:电源模块没有就绪信号',
		'F401:双 MST 故障关机',
		'F402:双 MDT 故障关机',
		'F403:通信阶段关机',
		'F404:阶段前进过程中出现错误',
		'F405:阶段后退过程中出现错误',
		'F406:阶段切换无就绪信号',
		'F407:主通信初始化过程中的错误',
		'F411:双 SST 故障关机',
		'F434:紧停 E-STOP',
		'F629:超过正行程极限',
		'F630:超过负行程极限',
		'F634:紧停 E-STOP',
		'F643:探测到正行程极位开关',
		'F644:探测到负行程限位开关',
		'F811:换算偏置无法确定',
		'F812:在换算过程中移动越程',
		'F822:编码器 1 故障：信号幅度错误',
		'F843:编码器 2 故障：信号幅度错误',
		'F845:编码器 2 故障：象限错误',
		'F850:看门狗协处理器',
		'F860:过流：功率部分有短路',
		'F870:+24v 直流错误',
		'F873:电源驱动部分故障',
		'F878:速度环错误',
		'F880:经过优化的换算偏置错误'
	)
	var arrayObj3=new Array(
		'E211:DISC-#1 报警',
		'E212:DISC-#2 报警',
		'E212:DISC-#3 报警',
		'E212:DISC-#4 报警',
		'E217:冷却风扇转速太慢',
		'E2074:一些相关的编码器报警故障',
		'F2076:一些相关的编码器报警故障',
		'E8260: 扭矩过载',
		'E221:报警电机温度监控有故障',
		'E225:电机过载',
		'E226:功率部分欠电压',
		'E247:插补速度 =0',
		'E248:插补加速度 =0',
		'E249:定位速度＞ =S-0-0091',
		'E250:驱动器过热预报警',
		'E251:电机过热预报警',
		'E252:制动电阻器过载预报警',
		'E253:目标位置超出行程范围',
		'E254:未回零',
		'E255:进给倍率 S-0-108=0',
		'E256:转矩限制 =0',
		'E257:连续电流限制活动',
		'E258:选定的处理块未编程',
		'E259:指令速度限制活动',
		'E260:指令电流限制活动',
		'E261:连续电流限制预报警',
		'E263:速度指令值＞极限 S-0-0091',
		'E264:目标位置超过数字范围',
		'E267:硬件同步有故障',
		'E269:制动器的制动转矩太低',
		'E281:主回路故障',
		'E288:EMD 模块固件升级活动',
		'E289:等待 Ecox 服务器端扫描',
		'E291:EMD 模块超时',
		'E293:EMD 模块欠电压',
		'E296:Ecox 客户端数量不准确',
		'E386:电源模块无就绪信号',
		'E408:MDT 数据存储器 A 无效编址',
		'E409:AT 数据存储器 A 无效编址',
		'E410:客户端未被扫描或地址为 0',
		'E411:双 SST 故障',
		'E825:功率部分过电压',
		'E826:功率部分欠电压',
		'E829:超过正位置极限',
		'E830:超过负位置极限',
		'E831:在点动过程中达到位置极限',
		'E834:紧停 E-STOP',
		'E843:正限位开关活动',
		'E844:负限位开关活动',
		'E881:主回路故障',
		'E886:电源模块没有准备好信号'
	)
	var arrayObj4=new Array(
		'B100:指令释放电机制动器',
		'B101:指令未使能',
		'B200:制动器检查指令',
		'B201:只在驱动器使能时进行制动器检查',
		'B202:在制动器嵌入过程中出现错误',
		'B203:制动器制动转矩太低',
		'B300:后备工作内存过程指令',
		'C100:通讯阶段 3 转换检查',
		'C101:无效通信参数（ S-0-0021）',
		'C102:通信参数极限错误（ S-0-0021）',
		'C104:MDT 的配置 IDN 不可配置',
		'C105:配置长度大于 MDT 最大长度',
		'C106:AT 的配置 IDN 不可配置',
		'C107:配置长度大于 AT 最大长度',
		'C108:时间片参数大于 Sercos循环时间',
		'C109:MDT （S-0-0009）中的数据记录位置为偶数',
		'C110:MDT （S-0-0010）长度为奇数',
		'C111 1D9+记录长度 -1 大于长度 MDT （S-0-0010）:',
		'C112:TNcyc（S-0-0001）或 TScyc（S-0-0002）错误',
		'C113:TNcyc（S-0-0001）与 TScyc（S-0-0002）的关系错误',
		'C114:T4 大于 TScyc（S-0-0002）-T4min （S-0-0005）',
		'C115:T2 数值太小',
		'C118:MDT 配置顺序错误',
		'C200:通讯阶段 4 转换检查',
		'C201:无效参数（ S）（-＞S-0-0022）',
		'C202:参数极限错误（ -＞S-0-0022）',
		'C203:参数计算错误（ -＞S-0-0022）',
		'C204:电机类型 P-0-4014 不准确',
		'C210:要求反馈 2（-＞S-0-0022）',
		'C211:无效反馈数据（ -＞S-0-0022）',
		'C212:无效放大数据（ -＞S-0-0022）',
		'C213:位置数据比例错误',
		'C214:速度数据比例错误',
		'C215:加速度数据比例错误',
		'C216:转矩 /力数据比例错误',
		'C217:反馈 1 数据读取错误',
		'C218:反馈 2 数据读取错误',
		'C220:反馈 1 初始化错误',
		'C221:反馈 2 初始化错误',
		'C223:最大范围输入值太高',
		'C227:模范围错误',
		'C234:编码器不能组合',
		'C235:负载侧电机编码器只可用于感应电机',
		'C236:要求反馈 1（P-0-0074）',
		'C238:编码器 2 功能错误（ -＞S-0-0022）',
		'C241:必须为二进制编码器分辨率',
		'C242:一个参数的多重配置（ -＞S-0-0022）',
		'C300:指令设定绝对测量',
		'C302:未安装绝对测量系统',
		'C400:切换至参数方式',
		'C401:驱动器使能时，不允许切换',
		'C402:只允许在没有上位控制时',
		'C500:复位 1 类诊断，错误复位',
		'C600:驱动器控制的回零过程指令',
		'C601:只在驱动器使能时才能够回零',
		'C602:距离回零开关 -参考标记错误',
		'C604:绝对编码器不能回零',
		'C606:未探测出参考标记',
		'C700:基本参数装载',
		'C702:默认参数不可用',
		'C703:默认参数无效',
		'C704:参数不可拷贝',
		'C800:调入默认参数',
		'C801:参数默认值错误（ -＞S-0-0021）',
		'C802:密码锁定',
		'D300:指令调整换算',
		'D301:驱动器未做好换算指令准备',
		'D302:电机转矩 /力太小，无法运动',
		'D303:指令启动时驱动器处于控制状态',
		'D304:偏置计算错误',
		'D305:驱动器使能被拒绝',
		'D306:系统断电',
		'D307:驱动器不运动',
		'D308:无法调整异步电机',
		'D309:进入阶段 4',
		'D310:输入主密码',
		'D311:不能确定换算偏置',
		'D312:在换算过程中超过运动范围',
		'D500:指令获取标志位置',
		'D501:要求增量编码器',
		'D600:取消回参考点过程指令',
		'D700:轴禁止指令',
		'D701:仅可在驱动器无使能时使用轴禁止指令',
		'D800:测量轮模式指令',
		'D801:测量轮不能运行',
		'D900:自动控制环调整指令',
		'D901:启动要求驱动器使能',
		'D902:电机反馈数据无效',
		'D903:惯量检测失败',
		'D904:增益调整失败',
		'D905:位移范围无效， P-0-0166 和 P-0-0167',
		'D906:位移范围超出'
	)
	var arrayObj5=new Array(
		'A000:通讯阶段 0',
		'A001:通讯阶段 1',
		'A002:通讯阶段 2',
		'A003:通讯阶段 3',
		'A009:SERCOS 接口的自动波特率检测',
		'A010:驱动停止',
		'A012:控制和功率部分运行准备就绪',
		'A013:接通电源准备就绪',
		'A100:驱动器处于转矩控制模式下',
		'A101:驱动器处于速度控制模式下',
		'A102:使用编码器 1 的位置模式',
		'A103:使用编码器 2 的位置模式',
		'A104:位置模式，无滞后，编码器 1',
		'A105:位置模式，无滞后，反馈 2',
		'A106:驱动器控制的插补，编码器 1',
		'A107:驱动器控制的插补，编码器 2',
		'A108:驱动器控制的插补，无滞后，编码器 1',
		'A109:驱动器控制的初步，无滞后，编码器 2',
		'A110:速度同步，虚拟主驱动器',
		'A111:速度同步，真实主驱动器',
		'A112:相位同步，编码器 1',
		'A113:相位同步，编码器 2. 虚拟主驱动器',
		'A114:相位同步，编码器 1. 真实主驱动器',
		'A116:相位同步，无滞后，编码器 1',
		'A117:相位同步，无滞后，编码器 2',
		'A118:相位同步，无滞后，编码器 1',
		'A128:凸轮轴，编码器 1',
		'A129:凸轮轴，编码器 2',
		'A130:凸轮轴，编码器 1',
		'A132:凸轮轴，无滞后，编码器 1',
		'A133:凸轮轴，无滞后，编码器 2',
		'A134:凸轮轴，无滞后，编码器 1',
		'A150:驱动器控制的定位，编码器 1',
		'A151:驱动器控制的定位，编码器 1，无滞后',
		'A152:驱动器控制的定位，编码器 2',
		'A153:驱动器控制的定位，编码器 2，无滞后',
		'A154:编码器 1，驱动器受控的位置模式',
		'A155:编码器 1，无滞后，驱动器受控的位置模式',
		'A156:编码器 2，驱动器受控的位置模式',
		'A157:编码器 2，无滞后，驱动器受控的位置模式',
		'A206:数据处理块模式，编码器 1',
		'A207:数据处理块模式，无滞后，编码器 1',
		'A208:正向点动模式',
		'A210:数据处理块模式，编码器 2',
		'A211:数据处理块模式，无滞后，编码器 2',
		'A218:负向点动模式',
		'A400:自动的驱动器检查和调整',
		'A401:驱动器减速至自动模式',
		'A402:驱动器处于自动模式',
		'A800:不明运行模式'
	)

  if(brand==1) var bb=[].concat(arrayObj1);
	if(brand==2) var bb=[].concat(arrayObj2);//确定是哪个错误类型
	if(brand==3) var bb=[].concat(arrayObj3);
	if(brand==4) var bb=[].concat(arrayObj4);//确定是哪个错误类型
	if(brand==5) var bb=[].concat(arrayObj5);
	   for(var i=0;i<bb.length;i++){
			 arr=bb[i].split(":");
			 tem = {
			 uid : '1001',
			 imgPath : 'widget://image/33.jpg',
			 title : arr[0],
			 subTitle : arr[1],
			 remark : '查看详情',
			 icon : '',
			 id:'2'
			 }
			   listdata.push(tem);
		 }


		//下面定义列表
			demo = api.require('UIListView');
			$api.dom('.empty').innerHTML =
			demo.open({
				rect : {
					x : 0,
					y : 77,//调节列表距离顶部的长度
					w : api.winWidth,
					h : api.frameHeight
				},
				data : listdata,
				styles : {
					borderColor : '#696969',
					item : {
						bgColor : '#F5F5F5',
						activeBgColor : '#AFEEEE',
						height : 55.0,
						marginTop:-255,
						imgWidth : 40,
						imgHeight : 40,
						imgCorner : 4,
						placeholderImg : '',
						titleSize : 12.0,
						titleColor : '#000',
						subTitleSize : 12.0,
						subTitleColor : '#000',
						remarkColor : '#000',
						remarkSize : 16,
						remarkIconWidth : 30
					}
				},
				fixedOn : api.frameName
			}, function(ret, err) {
				if (ret) {
					 //alert(JSON.stringify(ret));
					 var str = JSON.stringify(ret);
					 //alert(JSON.stringify(ret)+"ca");
					 if(str.indexOf("index")!=-1)
								 str = str.match(/"index":(\S*)}/)[1];//获取索引
					 if(JSON.stringify(ret).indexOf("index")!=-1){
							 //alert(str+"111111")
           demo.onclick=  api.openWin({
									 name: 'RexsAns',
									 url: './RexAns.html',
				          pageParam: {
				              error:str,
											type:brand,
				         }
				      });
						}

				} else {
					alert(JSON.stringify(err));
				}
			});
		};
	</script>

</html>
