<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>title</title>
		<link rel="stylesheet" type="text/css" href="../css/api.css" />
		<link rel="stylesheet" type="text/css" href="../css/api.css" />
  	<link rel="stylesheet" type="text/css" href="../css/aui.css" />
	  <script type="text/javascript" src="../script/aui-toast.js"></script>
<link rel="stylesheet" type="text/css" href="../css/api1.css" />
		<style>
			body {
			}
			html, body {
				height: 100%
			}
			body {
				background-color: #fff;
				margin: 0;
			}
			#wrap {
				height: 2000px;
				position: relative;
			}
		.hdiv {
				padding-top: 20px;
				background-color: #f2f2f2;
				height: 20px;
				position: relative;
			}
			#header h1 {
				font-size: 20px;
				height: 44px;
				line-height: 44px;
				margin: 0em;
				color: #fff;
				margin-left: 100px;
				margin-right: 100px;
				text-align: center;
			}
			#main {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
			}
			a.button {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
				-webkit-box-align: center;
				height: 32px;
				margin: 8px;
				background-color: rgba(240, 240, 240, 1.0);
				border-color: rgba(220, 220, 220, 1.0);
				border-width: 2px;
				border-style: solid;
			}
			a.active {
				background-color: rgba(240, 240, 240, 0.7);
			}

		</style>
	</head>
	<body>
		<header class="aui-bar aui-bar-nav aui-bar-light" style="height:75px">
            <div class="aui-pull-left aui-btn" onclick="goback()" style="height:75px">

            </div>
            <div class="aui-title" style="margin-top:26px">错误列表一览</div>
        </header>
  <div class="empty"></div>
<div id="aa"></div>
	</body>

	<script type="text/javascript" src="../script/api.js"></script>
	<script type="text/javascript">
	function goback () {
	   api.closeWin({name:'Mitserror1'});
	 }

  apiready = function() {
		var demo;
		var brand = api.pageParam.brand;//判断被点击的错误类型是哪个
		var listdata = new Array();
  	var arrayObj1 = new Array(
			'S01:PR',
			'S03:AR',
			'S04:NR',
			'S02-2201~2300:报警号码为发生错误的伺服参数号码。',
			'S02-2301:以下功能中所使用的常数溢出。·电子齿轮·位置回路增益·速度回馈转换',
			'S02-2302:连接高速串行增量编码器（OSE104,OSE105）时，绝对位置检测的参数为为 ON。',
			'S02-2303:没有伺服选配功能。',
			'S02-2304:SHG 控制功能为可选功能',
			'S02-2305:适应过滤器功能为可选功能。',
			'S02-3201~3584:设定了超过允许范围的参数值。',
			'S51-2201~2300:伺服参数的设定数据错误',
			'S51-3201~3584:设定了超过允许范围的参数值。',
			'A1.10 :1：电源电压太低。2：控制电源瞬间停电在 60ms 以上。3：由于电源容量过小，导致启 电源电压下降。4：直流母线下降到 200V 后恢复供电（主电路电源切断 5 秒以内再接通。5：伺服放大器内部故障。',
			'A1.12:存储器异常 1',
			'A1.1A:电机配合异常',
			'A1.34:总线出错，CRC错误',
			'A1.36:总线或印制板出错。',
			'A1.45:主回路设备过热',
			'A1.50:为三菱伺服驱动器过载报警',
			'A1.30:超过内置再生制动电阻或再生制动选件的允许再生功率或再生制动晶体管异常。',
			'AL.16:三菱伺服编码器和伺服放大器之间通讯异常',
			'A1.15  :存储器异常 2',
			'A1.13:印刷电路板异常',
			'A1.16:1：接头 CN2 没有接好;2.编码器故障。',
			'A1.17  :CPU 零部件异常',
			'A1.19  :ROM 存储器异常。',
			'A1.20 :编码器和伺服放大器之间通讯异常',
			'A1.24:伺服电机输出端（U V W 相）接地故障。',
			'A1.25:绝对位置数据丢失',
			'A1.30 :制动电流超过内置再生制动电阻或再生制动选件的允许值',
			'A1.31:速度超出了瞬时允许速度',
			'A1.32 :伺服放大器的输出电流超过了允许电流',
			'A1.33:直流母线电压的输入在 400V 以上',
			'A1.35 :输入的指令的脉冲频率太高',
			'A1.37:参数设定值异常',
			'A1.45:主电路期间异常过热',
			'A1.51:由于机械故障导致伺服放大器连续数秒钟以最大电流输出。伺服电机的锁定时间在 1 秒以上',
			'A1.52:偏差计数器中的滞留脉冲超出了编码器分辨率能力*10（脉冲）',
			'A1.8A:RS232 或 RS 422通讯中断的时间超过了参数的设定值',
			'A1.8E:伺服放大器和通讯设备之间出现通讯出错',
			'88888:CPU 部件异常'
	)
	var arrayObj2=new Array(
		'M01-0001:近点挡块长度不足参考点返回时，近点检测用限位开关无法停在挡块上，而是越过了挡块。',
		'M01-0002:Z 相未通过接通电源后，在首次参考点返回中，有未通过编码器 Z 相的轴。',
		'M01-0003:参考点返回方向错误进行手动参考点返回时，通过轴选择键所选择的轴移动方向与复位方向不一致。',
		'M01-0004:外部互锁外部互锁功能有效（输入信号为关闭状态），且轴进入互锁状态。',
		'M01-0005:进入内部互锁状态。在进行绝对位置检测的轴上进行了轴取出。在手动·自动同时有效的轴上，通过自动模式发出了指令',
		'M01-0006:超过硬件行程极限过行程极限功能有效（输入信号为关闭状态），且一轴处于超行程极限状态。',
		'M01-0007:超过软件行程极限记忆式极限 I、Ⅱ、ⅡB、IB 或 IC 的功能有效。',
		'M01-0008:超过卡盘/尾座区域行程极限卡盘/尾座区域功能有效，轴进入行程极限状态',
		'M01-0009:参考点返回号码错误在第 1 参考点返回未完成的情况下，进行了第 2参考点返回。',
		'M01-0019:传感器信号错误为 ON刀具测量模式（TLM）信号有效时，传感器信号已经打开。刀具测量模式（TLM）信号有效后，传感器信号在没有轴移动的状态下打开。传感器信号为 ON 的位置，距离最终进入开始位置在 100μm 以内的位置。',
		'M01-0020:无法进行参考点返回在未确立坐标系的情况下进行了参考点返回。',
		'M01-0024:在绝对位置检测报警中无法进行原点返回；在绝对位置检测报警中，接收到原点返回信号',
		'M01-0025:原点初始化中无法进行原点返回在绝对位置检测系统的原点初始化中，接收到原点返回信号。',
		'M01-0050:铣轴，原点返回未完成处于铣床模式时，铣轴原点返回未完成。全轴互锁',
		'M01-0051:同期误差过大在同期控制中，主轴与辅助轴的同期误差超过允许值。因同期偏差检测，发生超过同期误差极限值的偏差',
		'M01-0101:无运转模式',
		'M01-0102:切削进给倍率为 0；将机械操作盘的“切削进给倍率”开关调整为0。',
		'M01-0103:外部进给速度为 0·在点动模式及自动空运转时，机械操作盘的“手动进给速度”开关被设定为 0。·当处于点动模式且手动进给速度 B 有效时，“手动进给速度 B 速度”被设定为 0。·当处于点动模式且各轴手动进给速度 B 有效时，“各轴手动进给速度 B 速度”被设定为 0。',
		'M01-0104:F1 数位进给速度为 0。执行 F1 数位进给指令时，F1 数位进给速度为0。',
		'M01-0105:发出同期进给指令时，主轴停止。',
		'M01-0106:在手轮进给时，指定的轴在规格中不存在。未选择手轮进给轴。',
		'M01-0107:主轴转速超速发出螺纹切削指令时，主轴旋转速度超过钳制速度。',
		'M01-0108:定点模式进给轴号码错误在定点进给时，指定的轴在规格中不存在。定点模式进给速度错误。',
		'M01-0109:单节开始互锁',
		'M01-0110:切削单节开始互锁',
		'M01-0111:重新起动开关打开在再开呼叫未完成状态下打开了重新起动开关，选择了手动模式。',
		'M01-0112:程序检查模式在程序检查中，按下了自动起动按钮。',
		'M01-0113:缓存补偿中自动起动在缓存补偿中按下了自动起动按钮',
		'M01-0115:在复位处理中或是倒带过程中，按下了自动起动按钮。',
		'M01-0117:录返无效',
		'M01-0118:法线控制中的单节接头旋转停止',
		'M01-0120:同期补偿模式中在非手轮模式状态下，同期补偿模式开关为 ON。',
		'M01-0121:无同期控制选配功能在没有同期控制规格的状态下，设置了同期控制运转方式选择的 R 寄存器。',
		'M01-0123:电脑连接 B在复位完成前，进行了循环起动。在 2 系统的第 2 系统下，进行了电脑连接 B运转。',
		'M01-0124:禁止倾斜轴控制有效时的同时轴移动',
		'M01-0126:程序再开机械锁定',
		'M01-0150:研磨倍率为 0',
		'M01-0151:指令轴研磨轴',
		'M01-0153:下死点位置为 0',
		'M01-0154:当研磨轴被选定为手轮轴时，起动研磨。',
		'M01-0160:软件极限范围外未设定最大速度对未设定软件极限范围外最大速度的轴，进行了从软件极限范围外的返回操作。',
		'M01-1005:在 G114.*中执行了 G114.*。',
		'M01-1007:同期攻牙中，主轴处于使用状态。',
		'M01-1026:同时发出了主轴 C 轴与其他的位置控制指令对于多边形加工主轴，执行了 C 轴模式指令。对于同期攻牙主轴，执行了 C 轴模式指令。对于同期攻牙主轴，执行了多边形指令。主轴正在作为主轴/C 轴使用。',
		'M01-1030:等待不一致',
		'M01-1031:在无法选择多个 C 轴的状态下，变更了 C 轴选择信号。对于不能够选择多个 C 轴进行控制的轴，使用了C 轴选择信号。',
		'M01-1032:多主轴时的攻牙返回主轴选择错误',
		'M01-1033:刀具主轴同期 IB（G51.2）切削互锁',
		'M01-1034:截面加工指令错误',
		'M01-1035:无法进行截面加工控制的状态',
		'M01-1036:无法进行同期控制指定',
		'M01-1037:在无法开始/解除同期控制的状态下，发出了同期控制的开始/解除指令。',
		'M01-1038:对同期控制中的同期轴发出了移动指令',
		'M01-1106:主轴同期位相计算错误'
	)
	var arrayObj3=new Array(
		'T01-0101:由于存在移动中的轴，所以无法自动起动。',
		'T01-0102:由于 NC 未就绪，所以无法自动起动。',
		'T01-0103:由于输入了复位信号，所以无法自动起动。',
		'T01-0104:自动运转停止信号为 ON',
		'T01-0105:超过硬件行程极限',
		'T01-0106:超过软件行程极限',
		'T01-0107:未选择运转模式。',
		'T01-0108:选择了 2 个以上自动运转模式。',
		'T01-0109:从自动运转模式变化为其他自动运转模式',
		'T01-0110:进行纸带呼叫时，无法进行自动起动。',
		'T01-0112:由于未复位到再开位置，所以无法自动起动。',
		'T01-0113:由于发生温度报警（Z53 过热），所以无法自动启动',
		'T01-0115:与主机通信中，无法进行自动起动。',
		'T01-0138:在绝对位置检测报警中，输入了起动信号',
		'T01-0139:原点初始化期间无法起动',
		'T01-0190:无法自动起动',
		'T01-0191:在文件删除/写入中自动起动。',
		'T02-0201:超过硬件行程极限',
		'T02-0202:到达了记忆式行程极限',
		'T02-0203:接收到复位信号',
		'T02-0204:自动运转停止信号为 ON',
		'T02-0205:在自动运转中，变为其他的自动运转模式',
		'T02-0206:加减速时间常数过大',
		'T02-0215:绝对位置检测报警停止',
		'T03-0301:单节打开',
		'T03-0302:用户宏程序停止',
		'T03-0303:自动模式切换为其他自动模式。',
		'T03-0304:完成了 MDI 的最后一个单节。',
		'T03-0305:接收到了锁定单节开始的互锁信号。',
		'T03-0306:接收到了锁定切削单节开始的互锁信号。',
		'T03-0310:程序运转中的倾斜轴 Z 轴补偿变化',
		'T04-0401:进入校准停止'
	)
	var arrayObj4=new Array(
		'Y02-0050:后台错误',
		'Y06-0001:信道内，传输中的号码存在缺失。',
		'Y06-0002:任意配置的设定发生重复。',
		'Y06-0003:驱动单元固定设定“0000”与任意配置设定“****”混合。',
		'Y06-0004:主轴/C 轴的“#3031 mcp_no”与“#3032smcp_no”的值不相同。',
		'Y06-0005:在 2 系统系统中，当“#1154pddor”=1 时，进行了任意配置设定',
		'Y06-0006:信道号码参数超出设定范围。',
		'Y51-0001:直线加减速快速进给时间常数异常',
		'Y51-0002:直线加减速切削进给时间常数异常',
		'Y51-0003:1 次延迟快速进给时间常数异常',
		'Y51-0004:1 次延迟切削进给时间常数异常',
		'Y51-0012:格栅间隔异常',
		'Y51-0015:直线加减速忽略时间常数异常',
		'Y51-0016:1 次延迟忽略时间常数异常',
		'Y51-0017:“#1205 G0bdcc（G0 插补前）”的第 2 系统',
		'Y51-0101:旋转轴齿轮比过大（绝对位置检测）',
		'Z40:在用 0 对参数的 MemVal 做了格式化的状态下，将MemVal 切换为 1 时显示。',
		'Z51:当参数未正确写入 ROM 中时发生',
		'Z52:NC 控制单元上所安装的电池电压不足',
		'Z53:控制单元或操作板的温度上升到规定温度以上',
		'Z55:当控制单元与远程 I/O 单元之间发生通信异常时发生',
		'Z57:程序记忆容量的设定值为无法格式化的值。',
		'Z58:进行机械制造商宏程序的注册/编辑/复制/压缩/合并/号码变更/删除之后，未向 FROM 中写入。',
		'Z59:加减速时间常数过大。'
	)
	var arrayObj5=new Array(
		's01-0011:基板异常',
		's01-0013:驱动单元内部的印刷基板上发生异常',
		's01-0016:编码器初始通信中发生异常。',
		's01-0017:驱动单元内部的 A/D 转换上发生异常',
		's01-0025:绝对位置消失',
		'S02-0011:驱动单元内部的印刷基板上发生异常',
		'S02-0013:软件处理超时',
		'S02-0015:EEROM 异常',
		'S02-0017:A/D 转换异常',
		'S02-0018:LSI 异常',
		'S02-0020:编码器异常',
		'S02-0024:检测到接地',
		'S03-0010:电压不足',
		'S03-0030:回生异常',
		'S03-0031:超速',
		'S03-0032:电流过大',
		'S03-0033:电压过大',
		'S03-0046:伺服驱动单元或伺服电机的过载保护功能起动',
		'S03-0050:因机械的冲突或大负载等原因，导致在数秒钟内有最大输出电流流经。',
		'S03-0051:发生超过误差过大检测设定值的位置偏差。',
		'S03-0052:让电机过热的运转状态持续',
		'S52-0092:电池电压低',
		'S52-00E0:回生过大警告',
		'S52-00E1:过载警告',
		'S52-00E3:绝对位置计数器警告',
		'S52-00E9:主电路关闭警告',
		'Z70-0001:原点初始设定未完成',
		'Z70-0002:绝对位置基准数据消失',
		'Z70-0003:绝对位置系统相关参数异常',
		'Z71-0001:绝对位置记忆用电池电压过低警告',
		'Z71-0003:绝对位置计数器警告',
		'M00-0001 :近点挡块长度不足',
		'M00-0003 :参考点返回方向错误',
		'M00-0004:外部互锁',
		'M00-0005:内部互锁',
		'M00-0007:软件限制',
		'M00-0024:绝对位置报警中，无法进行参考点返回',
		'M00-0025:在绝对位置初始设定中执行了参考点返回。',
		'M01-0101:无运转模式',
		'M01-0103:进给速度为 0',
		'M01-0160:站号码指定错误，无法起动',
		'M01-0161:在增量系统中，在执行参考点返回前通过自动/手动运转进行了起动',
		'M01-0162:在绝对位置参考点初始设定中，接收到了起动信号。',
		'M01-0163:绝对位置报警中，无法起动',
		'M01-0164:任意位置定位模式中，无法进行手动运转',
		'M01-0165:不均等计算站号码错误，无法起动',
		'Y02-0050:后台错误',
		'Y02-0051:CRC 错误'
	)
	var arrayObj6=new Array(
		'PLC:用户 PLC 在序列处理中进入紧急停止状态',
		'EXIN:紧急停止输入信号处于有效（打开）状态',
		'SRV:伺服系统发出报警，紧急停止。',
		'STOP:用户 PLC（梯形图 Sequence）未运行',
		'SPIN:主轴驱动单元准备未完成',
		'PC＿H:PC 高速处理异常',
		'PARA:挡块信号的任意分配参数设定错误',
		'LINK:当在 500ms 以内没有执行 FROM/TO 命令时，变为紧急停止。',
		'WAIT:未从主控台接收到准备序列',
		'XTEN:HR571 卡动作故障，旋转开关的设定错误',
		'LAD:用户 PLC（梯形图 sequence）中存在错误代码'
	)
	var arrayObj7=new Array(
		'P10:同一单节中所指令的轴地址数量超过规格数量。',
		'P11:程序指令的轴地址名与参数设定的轴地址名不同。',
		'P20:指令单位作不能整除的轴指令',
		'P29:在无法进行 2 系统同时螺纹切削指令的模态中，发出了该指令。',
		'P30:纸带上的 1 字母的孔数，采用 EIA 代码时为偶数，采用 ISO 代码时为奇数',
		'P31:纸带上的 1 个单节的字符数为奇数。',
		'P32:使用了规格中所没有的地址。',
		'P33:程序上的指令格式不正确。',
		'P34:指令了规格中没有的 G 代码',
		'P35:超过了各地址的设定范围',
		'P36:纸带及内存运转中读入了“EOR”。',
		'P37:纸带及内存运转中读入了“EOR”。',
		'P39:指令了规格中没有的 G 代码',
		'P40:执行刀具半径补偿时，由于预读的单节中存在错误，所以无法进行干扰检查。',
		'P112:刀尖 R 补偿结束时，G40 指令以后没有轴移动指令，当补偿未被取消时，发出了平面选择指令。',
		'P113:圆弧指令轴与选择平面不同。',
		'P133:速率恒定控制轴的指定不正确。'
	)
  if(brand==1) var bb=[].concat(arrayObj1);
	if(brand==2) var bb=[].concat(arrayObj2);//确定是哪个错误类型
	if(brand==3) var bb=[].concat(arrayObj3);
	if(brand==4) var bb=[].concat(arrayObj4);//确定是哪个错误类型
	if(brand==5) var bb=[].concat(arrayObj5);
	if(brand==6) var bb=[].concat(arrayObj6);//确定是哪个错误类型
	if(brand==7) var bb=[].concat(arrayObj7);//确定是哪个错误类型
	   for(var i=0;i<bb.length;i++){
			 arr=bb[i].split(":");
			 tem = {
			 uid : '1001',
			 imgPath : 'widget://image/33.jpg',
			 title : arr[0],
			 subTitle : arr[1],
			 remark : '查看详情',
			 icon : '',
			 id:'2'
			 }
			   listdata.push(tem);
		 }


		//下面定义列表
			demo = api.require('UIListView');
			$api.dom('.empty').innerHTML =
			demo.open({
				rect : {
					x : 0,
					y : 77,
					w : api.winWidth,
					h : api.frameHeight
				},
				data : listdata,
				styles : {
					borderColor : '#696969',
					item : {
						bgColor : '#F5F5F5',
						activeBgColor : '#AFEEEE',
						height : 55.0,
						marginTop:-255,
						imgWidth : 40,
						imgHeight : 40,
						imgCorner : 4,
						placeholderImg : '',
						titleSize : 12.0,
						titleColor : '#000',
						subTitleSize : 12.0,
						subTitleColor : '#000',
						remarkColor : '#000',
						remarkSize : 16,
						remarkIconWidth : 30
					}
				},
				fixedOn : api.frameName
			}, function(ret, err) {
				if (ret) {
					 //alert(JSON.stringify(ret));
					 var str = JSON.stringify(ret);
					 //alert(JSON.stringify(ret)+"ca");
					 if(str.indexOf("index")!=-1)
								 str = str.match(/"index":(\S*)}/)[1];//获取索引
					 if(JSON.stringify(ret).indexOf("index")!=-1){
							 //alert(str+"111111")
           demo.onclick=  api.openWin({
				          name: 'MitsAns1',
				          url: './MitsAns1.html',
				          pageParam: {
				              error:str,
											type:brand,
				         }
				      });
						}

				} else {
					alert(JSON.stringify(err));
				}
			});
		};
	</script>

</html>
